<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>StarGame: Satellite Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">StarGame
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Satellite Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a sun's satellite.  
 <a href="class_satellite.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_planet_bodies_8h_source.html">PlanetBodies.h</a>&gt;</code></p>

<p><a href="class_satellite-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a40c1e6e97b4c8447e7d92b46226a852c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40c1e6e97b4c8447e7d92b46226a852c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Satellite</b> (Framework::Timer newRevolutionDuration, float newOffsetFromSun, float newDiameter)</td></tr>
<tr class="memitem:a810947406b5df21450b07a6f9250d83e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a810947406b5df21450b07a6f9250d83e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a810947406b5df21450b07a6f9250d83e">LoadMesh</a> (const std::string &amp;fileName)</td></tr>
<tr class="memdesc:a810947406b5df21450b07a6f9250d83e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the satellite's mesh. <br/></td></tr>
<tr class="memitem:a6c61708e6a955d1676dfb2f779cf0698"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c61708e6a955d1676dfb2f779cf0698"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a6c61708e6a955d1676dfb2f779cf0698">Render</a> (glutil::MatrixStack &amp;modelMatrix, int materialBlockIndex, float gamma, const <a class="el" href="struct_lit_prog_data.html">LitProgData</a> &amp;litData, const <a class="el" href="struct_unlit_prog_data.html">UnlitProgData</a> &amp;unlitData, const <a class="el" href="struct_simple_prog_data.html">SimpleProgData</a> &amp;interpData)</td></tr>
<tr class="memdesc:a6c61708e6a955d1676dfb2f779cf0698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders the satellite and its on-click animation. <br/></td></tr>
<tr class="memitem:a9922529e27792578c7047bb91d27e21f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a9922529e27792578c7047bb91d27e21f">Update</a> ()</td></tr>
<tr class="memdesc:a9922529e27792578c7047bb91d27e21f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the satellite's position.  <a href="#a9922529e27792578c7047bb91d27e21f"></a><br/></td></tr>
<tr class="memitem:a9701b3bb18389b93b70a75f17008d629"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a9701b3bb18389b93b70a75f17008d629">IsClicked</a> (glm::mat4 projMat, glm::mat4 modelMat, <a class="el" href="class_mouse.html">Mouse</a> userMouse, glm::vec4 cameraPos, float windowWidth, float windowHeight)</td></tr>
<tr class="memdesc:a9701b3bb18389b93b70a75f17008d629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for click on the satellite.  <a href="#a9701b3bb18389b93b70a75f17008d629"></a><br/></td></tr>
<tr class="memitem:a8234af99478c820231f5d52289b7bca2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8234af99478c820231f5d52289b7bca2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a8234af99478c820231f5d52289b7bca2">LoadClickedAnimation</a> (glutil::MatrixStack &amp;modelMatrix, const <a class="el" href="struct_simple_prog_data.html">SimpleProgData</a> &amp;simpleData, float gamma)</td></tr>
<tr class="memdesc:a8234af99478c820231f5d52289b7bca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the animation which is played on-click. <br/></td></tr>
<tr class="memitem:a84782cdb794e9c2d86966bfb0487d428"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84782cdb794e9c2d86966bfb0487d428"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a84782cdb794e9c2d86966bfb0487d428">SetParent</a> (const <a class="el" href="class_sun.html">Sun</a> &amp;newParent)</td></tr>
<tr class="memdesc:a84782cdb794e9c2d86966bfb0487d428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the satellite's parent. <br/></td></tr>
<tr class="memitem:ae55915277ebb216b20c86895c9c4343e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae55915277ebb216b20c86895c9c4343e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#ae55915277ebb216b20c86895c9c4343e">SetIsClicked</a> (bool newIsClicked)</td></tr>
<tr class="memdesc:ae55915277ebb216b20c86895c9c4343e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the isClicked variable to newIsClicked. <br/></td></tr>
<tr class="memitem:af93a0103317331a898adf8923a547d7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af93a0103317331a898adf8923a547d7f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#af93a0103317331a898adf8923a547d7f">GetOffsetFromSun</a> ()</td></tr>
<tr class="memdesc:af93a0103317331a898adf8923a547d7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the satellite's offset from sun. <br/></td></tr>
<tr class="memitem:a563b9bb0e55a27bcb7ac9f134408711a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a563b9bb0e55a27bcb7ac9f134408711a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a563b9bb0e55a27bcb7ac9f134408711a">GetDiameter</a> ()</td></tr>
<tr class="memdesc:a563b9bb0e55a27bcb7ac9f134408711a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the satellite's diameter. <br/></td></tr>
<tr class="memitem:a3c1f0d849c8885f0b524a64ea478e2eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c1f0d849c8885f0b524a64ea478e2eb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Satellite</b> (const <a class="el" href="class_satellite.html">Satellite</a> &amp;other)</td></tr>
<tr class="memitem:a7fbf21c092b5c43a5cd2db41aa5a78f9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7fbf21c092b5c43a5cd2db41aa5a78f9"></a>
<a class="el" href="class_satellite.html">Satellite</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_satellite.html">Satellite</a> &amp;other)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a00e43093535d9107b9c3e5911a78b9e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00e43093535d9107b9c3e5911a78b9e6"></a>
std::auto_ptr&lt; Framework::Mesh &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a00e43093535d9107b9c3e5911a78b9e6">mesh</a></td></tr>
<tr class="memdesc:a00e43093535d9107b9c3e5911a78b9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the mesh file for the satellite. <br/></td></tr>
<tr class="memitem:a4ad51c61fd80af0ae2012156046bc6f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ad51c61fd80af0ae2012156046bc6f1"></a>
std::auto_ptr&lt; <a class="el" href="class_sun.html">Sun</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a4ad51c61fd80af0ae2012156046bc6f1">parent</a></td></tr>
<tr class="memdesc:a4ad51c61fd80af0ae2012156046bc6f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The satellite's parent. <br/></td></tr>
<tr class="memitem:a7e295ead1d57fa33491d544b316b7419"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e295ead1d57fa33491d544b316b7419"></a>
Framework::Timer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a7e295ead1d57fa33491d544b316b7419">revolutionDuration</a></td></tr>
<tr class="memdesc:a7e295ead1d57fa33491d544b316b7419"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time needed for the satellite to make one revolution around its parent. <br/></td></tr>
<tr class="memitem:a924a136220bcab117d5c61781a287df7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a924a136220bcab117d5c61781a287df7"></a>
glm::vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a924a136220bcab117d5c61781a287df7">position</a></td></tr>
<tr class="memdesc:a924a136220bcab117d5c61781a287df7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The calculated satellite position. <br/></td></tr>
<tr class="memitem:a3a9cf936be8fdd647e501b048ef6031f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a9cf936be8fdd647e501b048ef6031f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a3a9cf936be8fdd647e501b048ef6031f">offsetFromSun</a></td></tr>
<tr class="memdesc:a3a9cf936be8fdd647e501b048ef6031f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on this parameter the satellite's position is calculated. <br/></td></tr>
<tr class="memitem:a24fb12be82187b2009947c4c02f732eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24fb12be82187b2009947c4c02f732eb"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a24fb12be82187b2009947c4c02f732eb">diameter</a></td></tr>
<tr class="memdesc:a24fb12be82187b2009947c4c02f732eb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>diameter</em> of the satellite <br/></td></tr>
<tr class="memitem:addd9824588521e5d6a17bd4a9a9618cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="addd9824588521e5d6a17bd4a9a9618cf"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isClicked</b></td></tr>
<tr class="memitem:a32c179c36f0dfdbdb0317b123087ace2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32c179c36f0dfdbdb0317b123087ace2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a32c179c36f0dfdbdb0317b123087ace2">materialBlockSize</a></td></tr>
<tr class="memdesc:a32c179c36f0dfdbdb0317b123087ace2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the material block. Used for uniform buffer init. <br/></td></tr>
<tr class="memitem:a8d2a1b2c79145f4ea10937c9f9f6e5f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d2a1b2c79145f4ea10937c9f9f6e5f1"></a>
GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_satellite.html#a8d2a1b2c79145f4ea10937c9f9f6e5f1">materialUniformBuffer</a></td></tr>
<tr class="memdesc:a8d2a1b2c79145f4ea10937c9f9f6e5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The 'pointer' to the uniform buffer. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents a sun's satellite. </p>
<p>A satellite has a parent around which it rotates. It also has a diameter. A satellite checks for clicks on it, loads on-click animations, etc. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9701b3bb18389b93b70a75f17008d629"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Satellite::IsClicked </td>
          <td>(</td>
          <td class="paramtype">glm::mat4&#160;</td>
          <td class="paramname"><em>projMat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">glm::mat4&#160;</td>
          <td class="paramname"><em>modelMat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_mouse.html">Mouse</a>&#160;</td>
          <td class="paramname"><em>userMouse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">glm::vec4&#160;</td>
          <td class="paramname"><em>cameraPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>windowWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>windowHeight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for click on the satellite. </p>
<p>In order to check for click we need to do two things:</p>
<ul>
<li>To get the mouse ray from the camera to the object</li>
<li>To check for intersections between the ray and the object Getting the ray is achieved with the userMouse.GetPickRay() function.</li>
</ul>
<p>We check for intersections with <a class="el" href="namespace_utility_1_1_intersections.html#a96db5faaa3683901a7f1be805423e618" title="Checks for intersection between a ray and an ellipsoid.">Utility::Intersections::RayIntersectsEllipsoid()</a>. The test against collision of the ray with an ellipsoid because the camera is at an 135.0 degree angle relative to the scene's plane. This leads to orbit squashing and the collision checks become inaccurate. </p>

</div>
</div>
<a class="anchor" id="a9922529e27792578c7047bb91d27e21f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Satellite::Update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the satellite's position. </p>
<pre class="fragment">       The position is based on the current time through the satellite's 
       revolution and its offset from sun.
</pre><p>\(position.x = cos(currTimeThroughLoop \times (2 \times \pi)) \times offsetFromSun\)</p>
<p>\(position.y = sin(currTimeThroughLoop \times (2 \times \pi)) \times offsetFromSun\) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>StarGame/Entities/<a class="el" href="_planet_bodies_8h_source.html">PlanetBodies.h</a></li>
<li>StarGame/Entities/PlanetBodies.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 2 2012 20:08:08 for StarGame by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
